<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOMå±æ€§ç›‘å¬å™¨æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #fafafa;
        }

        .target-element {
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #2196F3;
            border-radius: 4px;
            background-color: #e3f2fd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .target-element:hover {
            background-color: #bbdefb;
            transform: scale(1.02);
        }

        .target-element.changed {
            background-color: #c8e6c9;
            border-color: #4CAF50;
        }

        button {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-primary { background-color: #2196F3; color: white; }
        .btn-success { background-color: #4CAF50; color: white; }
        .btn-warning { background-color: #FF9800; color: white; }
        .btn-danger { background-color: #f44336; color: white; }

        .status-display {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            background-color: #f0f0f0;
            border-left: 4px solid #2196F3;
        }

        input[type="text"], input[type="number"], select {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .highlight {
            animation: pulse 1s ease-in-out;
        }

        @keyframes pulse {
            0% { background-color: transparent; }
            50% { background-color: #ffeb3b; }
            100% { background-color: transparent; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” DOMå±æ€§ç›‘å¬å™¨æµ‹è¯•é¡µé¢</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•DOMå±æ€§ç›‘å¬å™¨æ‰©å±•çš„åŠŸèƒ½ã€‚è¯·å®‰è£…æ‰©å±•åï¼Œå°è¯•ç›‘å¬ä¸‹é¢å…ƒç´ çš„å±æ€§å˜åŒ–ã€‚</p>

        <!-- æµ‹è¯•åŒºåŸŸ1: åŸºæœ¬å±æ€§å˜åŒ– -->
        <div class="test-section">
            <h3>ğŸ“ åŸºæœ¬å±æ€§å˜åŒ–æµ‹è¯•</h3>

            <div id="testElement1" class="target-element" data-counter="0" data-status="ready">
                <strong>æµ‹è¯•å…ƒç´  1</strong>
                <br>data-counter: <span id="counterDisplay">0</span>
                <br>data-status: <span id="statusDisplay">ready</span>
                <br>class: "target-element"
            </div>

            <div>
                <button class="btn-primary" onclick="incrementCounter()">å¢åŠ è®¡æ•°å™¨</button>
                <button class="btn-success" onclick="changeStatus()">æ”¹å˜çŠ¶æ€</button>
                <button class="btn-warning" onclick="changeClass()">æ”¹å˜æ ·å¼</button>
                <button class="btn-danger" onclick="resetElement()">é‡ç½®å…ƒç´ </button>
            </div>
        </div>

        <!-- æµ‹è¯•åŒºåŸŸ2: æ–‡æœ¬å†…å®¹å˜åŒ– -->
        <div class="test-section">
            <h3>ğŸ“„ æ–‡æœ¬å†…å®¹å˜åŒ–æµ‹è¯•</h3>

            <div id="testElement2" class="target-element" title="åŸå§‹æ ‡é¢˜">
                <strong>æµ‹è¯•å…ƒç´  2</strong>
                <br>title: <span id="titleDisplay">åŸå§‹æ ‡é¢˜</span>
                <br>textContent: <span id="textDisplay">åŸå§‹æ–‡æœ¬å†…å®¹</span>
            </div>

            <div>
                <input type="text" id="newTitle" placeholder="è¾“å…¥æ–°æ ‡é¢˜" value="æ–°çš„æ ‡é¢˜">
                <input type="text" id="newText" placeholder="è¾“å…¥æ–°æ–‡æœ¬" value="æ–°çš„æ–‡æœ¬å†…å®¹">
                <button class="btn-primary" onclick="updateTextContent()">æ›´æ–°å†…å®¹</button>
            </div>
        </div>

        <!-- æµ‹è¯•åŒºåŸŸ3: å¿«é€Ÿè¿ç»­å˜åŒ– -->
        <div class="test-section">
            <h3>âš¡ å¿«é€Ÿè¿ç»­å˜åŒ–æµ‹è¯•</h3>

            <div id="testElement3" class="target-element" data-timestamp="0" data-value="0">
                <strong>æµ‹è¯•å…ƒç´  3</strong>
                <br>æ—¶é—´æˆ³: <span id="timestampDisplay">0</span>
                <br>æ•°å€¼: <span id="valueDisplay">0</span>
            </div>

            <div>
                <button class="btn-primary" onclick="startRapidChange()">å¼€å§‹å¿«é€Ÿå˜åŒ–</button>
                <button class="btn-danger" onclick="stopRapidChange()">åœæ­¢å˜åŒ–</button>
                <label>
                    é—´éš”(æ¯«ç§’): <input type="number" id="interval" value="100" min="50" max="1000">
                </label>
            </div>
        </div>

        <!-- æµ‹è¯•åŒºåŸŸ4: å¤æ‚å±æ€§å˜åŒ– -->
        <div class="test-section">
            <h3>ğŸ¨ å¤æ‚å±æ€§å˜åŒ–æµ‹è¯•</h3>

            <div id="testElement4" class="target-element"
                 style="background-color: #e3f2fd; color: #1976d2; font-size: 14px;"
                 data-custom-color="#e3f2fd"
                 data-custom-size="14">
                <strong>æµ‹è¯•å…ƒç´  4</strong>
                <br>èƒŒæ™¯è‰²: <span id="bgColorDisplay">#e3f2fd</span>
                <br>æ–‡å­—è‰²: <span id="textColorDisplay">#1976d2</span>
                <br>å­—ä½“å¤§å°: <span id="fontSizeDisplay">14px</span>
            </div>

            <div>
                <label>èƒŒæ™¯è‰²:</label>
                <input type="color" id="bgColor" value="#e3f2fd" onchange="changeStyle()">

                <label>æ–‡å­—è‰²:</label>
                <input type="color" id="textColor" value="#1976d2" onchange="changeStyle()">

                <label>å­—ä½“å¤§å°:</label>
                <select id="fontSize" onchange="changeStyle()">
                    <option value="12">12px</option>
                    <option value="14" selected>14px</option>
                    <option value="16">16px</option>
                    <option value="18">18px</option>
                    <option value="20">20px</option>
                </select>
            </div>
        </div>

        <!-- æ“ä½œè¯´æ˜ -->
        <div class="test-section">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
            <ol>
                <li>å®‰è£…DOMå±æ€§ç›‘å¬å™¨æ‰©å±•</li>
                <li>ç‚¹å‡»æ‰©å±•å›¾æ ‡æ‰“å¼€æ§åˆ¶é¢æ¿</li>
                <li>ç‚¹å‡»"ğŸ¯ é€‰æ‹©å…ƒç´ "æŒ‰é’®</li>
                <li>åœ¨é¡µé¢ä¸Šç‚¹å‡»æƒ³è¦ç›‘å¬çš„å…ƒç´ </li>
                <li>åœ¨å¼¹å‡ºçš„é¢æ¿ä¸­é€‰æ‹©è¦ç›‘å¬çš„å±æ€§</li>
                <li>ç‚¹å‡»"â–¶ï¸ å¼€å§‹ç›‘å¬"</li>
                <li>æ“ä½œé¡µé¢ä¸Šçš„æŒ‰é’®æ¥è§¦å‘å±æ€§å˜åŒ–</li>
                <li>åœ¨æ‰©å±•é¢æ¿ä¸­æŸ¥çœ‹ç›‘å¬æ—¥å¿—</li>
            </ol>
        </div>

        <!-- å½“å‰çŠ¶æ€æ˜¾ç¤º -->
        <div class="test-section">
            <h3>ğŸ“Š å½“å‰é¡µé¢çŠ¶æ€</h3>
            <div class="status-display" id="statusDisplay">
                ç­‰å¾…æ‰©å±•è¿æ¥...
            </div>
        </div>
    </div>

    <script>
        let rapidChangeInterval = null;
        let rapidChangeCounter = 0;

        // åŸºæœ¬å±æ€§å˜åŒ–æµ‹è¯•
        function incrementCounter() {
            const element = document.getElementById('testElement1');
            const current = parseInt(element.getAttribute('data-counter')) || 0;
            const newValue = current + 1;
            element.setAttribute('data-counter', newValue);
            document.getElementById('counterDisplay').textContent = newValue;
            addHighlight(element);
        }

        function changeStatus() {
            const element = document.getElementById('testElement1');
            const statuses = ['ready', 'processing', 'completed', 'error'];
            const current = element.getAttribute('data-status') || 'ready';
            const currentIndex = statuses.indexOf(current);
            const newStatus = statuses[(currentIndex + 1) % statuses.length];
            element.setAttribute('data-status', newStatus);
            document.getElementById('statusDisplay').textContent = newStatus;
            addHighlight(element);
        }

        function changeClass() {
            const element = document.getElementById('testElement1');
            element.classList.toggle('changed');
            addHighlight(element);
        }

        function resetElement() {
            const element = document.getElementById('testElement1');
            element.setAttribute('data-counter', '0');
            element.setAttribute('data-status', 'ready');
            element.className = 'target-element';
            document.getElementById('counterDisplay').textContent = '0';
            document.getElementById('statusDisplay').textContent = 'ready';
            addHighlight(element);
        }

        // æ–‡æœ¬å†…å®¹å˜åŒ–æµ‹è¯•
        function updateTextContent() {
            const element = document.getElementById('testElement2');
            const newTitle = document.getElementById('newTitle').value;
            const newText = document.getElementById('newText').value;

            if (newTitle) {
                element.setAttribute('title', newTitle);
                document.getElementById('titleDisplay').textContent = newTitle;
            }

            if (newText) {
                element.querySelector('#textDisplay').textContent = newText;
            }

            addHighlight(element);
        }

        // å¿«é€Ÿè¿ç»­å˜åŒ–æµ‹è¯•
        function startRapidChange() {
            if (rapidChangeInterval) return;

            const interval = parseInt(document.getElementById('interval').value) || 100;

            rapidChangeInterval = setInterval(() => {
                const element = document.getElementById('testElement3');
                const timestamp = Date.now();
                const value = ++rapidChangeCounter;

                element.setAttribute('data-timestamp', timestamp);
                element.setAttribute('data-value', value);

                document.getElementById('timestampDisplay').textContent = timestamp;
                document.getElementById('valueDisplay').textContent = value;

                addHighlight(element);
            }, interval);
        }

        function stopRapidChange() {
            if (rapidChangeInterval) {
                clearInterval(rapidChangeInterval);
                rapidChangeInterval = null;
            }
        }

        // å¤æ‚å±æ€§å˜åŒ–æµ‹è¯•
        function changeStyle() {
            const element = document.getElementById('testElement4');
            const bgColor = document.getElementById('bgColor').value;
            const textColor = document.getElementById('textColor').value;
            const fontSize = document.getElementById('fontSize').value;

            element.style.backgroundColor = bgColor;
            element.style.color = textColor;
            element.style.fontSize = fontSize + 'px';

            element.setAttribute('data-custom-color', bgColor);
            element.setAttribute('data-custom-size', fontSize);

            document.getElementById('bgColorDisplay').textContent = bgColor;
            document.getElementById('textColorDisplay').textContent = textColor;
            document.getElementById('fontSizeDisplay').textContent = fontSize + 'px';

            addHighlight(element);
        }

        // è¾…åŠ©å‡½æ•°
        function addHighlight(element) {
            element.classList.add('highlight');
            setTimeout(() => {
                element.classList.remove('highlight');
            }, 1000);
        }

        function updateStatus() {
            const statusElement = document.getElementById('statusDisplay');
            const elements = document.querySelectorAll('.target-element');
            let status = 'é¡µé¢å…ƒç´ çŠ¶æ€:\n\n';

            elements.forEach((el, index) => {
                status += `å…ƒç´  ${index + 1} (${el.id}):\n`;

                // æ˜¾ç¤ºæ‰€æœ‰data-*å±æ€§
                for (let attr of el.attributes) {
                    if (attr.name.startsWith('data-')) {
                        status += `  ${attr.name}: ${attr.value}\n`;
                    }
                }

                // æ˜¾ç¤ºå…¶ä»–é‡è¦å±æ€§
                if (el.className) {
                    status += `  class: ${el.className}\n`;
                }
                if (el.title) {
                    status += `  title: ${el.title}\n`;
                }
                if (el.style.cssText) {
                    status += `  style: ${el.style.cssText}\n`;
                }

                status += '\n';
            });

            statusElement.textContent = status;
        }

        // å®šæœŸæ›´æ–°çŠ¶æ€æ˜¾ç¤º
        setInterval(updateStatus, 2000);

        // åˆå§‹åŒ–
        window.onload = function() {
            updateStatus();
            console.log('DOMå±æ€§ç›‘å¬å™¨æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('è¯·å®‰è£…æ‰©å±•å¹¶å¼€å§‹æµ‹è¯•ç›‘å¬åŠŸèƒ½');
        };
    </script>
</body>
</html>